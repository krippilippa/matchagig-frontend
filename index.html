<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>MatchaGig - Resume Matching Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Favicon to prevent 404 errors -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìÑ</text></svg>">
  <!-- External CSS -->
  <link rel="stylesheet" href="css/styles.css">
  <!-- JSZip in browser to make a zip from PDFs -->
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
  <!-- Marked.js for Markdown parsing -->
  <script src="https://cdn.jsdelivr.net/npm/marked@4.3.0/marked.min.js"></script>
  <!-- PostHog Analytics -->
  <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init Re Ms Fs Pe Rs Cs capture Ve calculateEventProperties Ds register register_once register_for_session unregister unregister_for_session zs getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty Ls As createPersonProfile Ns Is Us opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing is_capturing clear_opt_in_out_capturing Os debug I js getPageViewId captureTraceFeedback captureTraceMetric".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_RzX0Ft7S8gwvRm7Uxc9CSVkbiF85KIaejKAPYia9003', {
        api_host: 'https://us.i.posthog.com',
        defaults: '2025-05-24',
        person_profiles: 'identified_only', // or 'always' to create profiles for anonymous users as well
    })
  </script>
</head>
<body>
  <div class="app">
    <!-- New Landing Page Layout -->
    <div id="landingPage" class="landing-page">
      <div class="landing-container">
        <div class="mock-data-section">
          <button id="useMockDataBtn" class="run-match-btn">üöÄ Use Mock Data (Demo)</button>
          <div class="mock-data-tip">Try the system instantly with sample resumes and job description</div>
        </div>
        
        <div class="upload-section">
          <div class="upload-box">
            <h3>UPLOAD R√âSUM√âS (PDF, UP TO 500)</h3>
            <div class="upload-area" id="uploadArea">
              <div class="upload-text">
                <strong>Drag & drop r√©sum√©s here</strong><br>
                or click to select files. We never save your files.
              </div>
              <input type="file" id="landingPdfInput" accept="application/pdf" multiple style="display: none;" />
            </div>
            <div class="upload-tip">Tip: You can also paste files later ‚Äî this is just a demo UI.</div>
          </div>
          
          <div class="jd-box">
            <h3>JOB DESCRIPTION</h3>
            <textarea id="landingJdText" rows="8" placeholder="Paste your job description here..."></textarea>
          </div>
        </div>
        
        <button id="runMatchBtn" class="run-match-btn">Run Match</button>
      </div>
    </div>

    <!-- Existing Interface (Hidden Initially) -->
    <div id="mainInterface" class="main-interface" style="display: none;">
      <div class="interface-header">
        <button id="backToDemoBtn" class="back-btn">‚Üê Back to Demo</button>
      </div>
      <div class="interface-content">
        <aside class="left">
          <div class="toolbar">
            <input type="file" id="pdfInput" accept="application/pdf" multiple style="display: none;" />
            <label for="jdText">Job Description:</label>
            <div id="jobTitleDisplay" class="job-title-display">No job title available</div>
            <div id="jdStatus" style="display: none;"></div>
            <input id="jdHash" type="hidden" />
            <div id="status"></div>
          </div>

          <div class="list" id="list"></div>
        </aside>

        <main class="right">
          <div class="viewer-header">
            <h3 id="viewerTitle">No candidate selected</h3>
            <div id="viewToggleButtons" style="display: none;">
              <button id="pdfViewBtn" class="view-toggle-btn">PDF View</button>
              <button id="dataViewBtn" class="view-toggle-btn">Data View</button>
            </div>
            <button id="updateJdBtn" class="update-jd-btn" style="display: none;">Update</button>
          </div>
          <div id="jdTextDisplay" class="jd-text-display" style="display: none;">
            <textarea id="jdTextContent" class="jd-text-content" placeholder="Job description text will appear here..."></textarea>
          </div>
          <div id="extractedDataDisplay" class="extracted-data-display" style="display: none;">
            <div id="extractedDataContent"></div>
          </div>
          <iframe id="pdfFrame" class="pdf" height="600"></iframe>
        </main>

        <aside class="chat">
          <div id="chatLog"></div>

          <div id="quickQuestions">
            <button class="quick-question" data-question="Analyze this candidate for the job. Start with what is missing from the need-to-haves in bullet format, then pros in bullet format, then simple verdict if would hire.">
              Pros/Cons
            </button>
            <button class="quick-question" data-question="Write a short reach out message making contact with the candidate.">
              Reach Out
            </button>
            <button class="quick-question" data-question="Give me 3 short but piercing interview questions in bullet format (nothing else) that really investigates the candidate based on the JD">
              Interview questions
            </button>
          </div>

          <div id="chatInput">
            <textarea id="chatText" rows="3" placeholder="Ask something..."></textarea>
            <button id="btnSend">Send</button>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <script type="module" src="./js/config.js"></script>
  <script type="module" src="./main.js"></script>
</body>
</html>